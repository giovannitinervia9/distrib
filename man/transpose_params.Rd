% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utility_functions.R
\name{transpose_params}
\alias{transpose_params}
\title{Transpose and Simplify Parameter List Structure}
\usage{
transpose_params(theta)
}
\arguments{
\item{theta}{A list to be transposed. Can be:
\itemize{
\item A named list of parameter vectors (Column-oriented).
\item A list of named parameter vectors/lists (Row-oriented).
}}
}
\value{
A \code{list} where each element has been transposed and simplified to an atomic vector.
}
\description{
Transposes a list structure (swapping "columns" and "rows") and simplifies the
inner elements into atomic vectors. This function is \strong{symmetric}: it can be used
to convert from Column-oriented to Row-oriented formats and vice versa using the
exact same call.
}
\details{
This function combines \code{\link[purrr]{transpose}} with \code{\link{unlist}}.

\strong{How it works:}
\itemize{
\item \strong{Cols -> Rows:} Converts \code{list(mu = 1:2, th = 3:4)} into
\code{list(c(mu=1, th=3), c(mu=2, th=4))}.
Note that the inner elements are now \strong{named vectors}, not lists.
\item \strong{Rows -> Cols:} Converts the output above back to
\code{list(mu = 1:2, th = 3:4)}.
}

\strong{Note on Types:} Because \code{unlist} is applied, if parameters have mixed types
(e.g., numeric and character), they will be coerced to the common type (usually character).
For standard distribution parameters (all numeric), this is safe and efficient.
}
\examples{
# --- 1. Define Parameters (Column-oriented) ---
theta_cols <- list(
  mu = c(10, 20, 30),
  dispersion = c(0.5, 0.5, 1.0)
)

# --- 2. Forward: Columns to Rows ---
# Creates a list of named vectors, ready for iteration
theta_rows <- transpose_params(theta_cols)

# Check structure: It is a named numeric vector, not a list
str(theta_rows[[1]])
# Named num [1:2] 10 0.5
# - attr(*, "names")= chr [1:2] "mu" "dispersion"

# Accessing values works the same way for vectors and lists:
theta_rows[[1]][["mu"]] # Returns 10

# --- 3. Inverse: Rows to Columns ---
# Applying the exact same function restores the original structure
theta_restored <- transpose_params(theta_rows)

# Verification
all.equal(theta_cols, theta_restored) # TRUE
}
